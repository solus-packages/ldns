name       : ldns
version    : 1.7.0
release    : 2
source     :
    - https://www.nlnetlabs.nl/downloads/ldns/ldns-1.7.0.tar.gz : c19f5b1b4fb374cfe34f4845ea11b1e0551ddc67803bd6ddd5d2a20f0997a6cc
license    : BSD-3-Clause
component  :
    - programming.library
    - utils: network.util
summary    : ldns library for DNS programming
description:
    - >-
      The goal of ldns is to simplify DNS programming, it supports recent RFCs
      like the DNSSEC documents, and allows developers to easily create
      software conforming to current RFCs, and experimental software for
      current Internet Drafts.
    - utils: >-
        Drill and ldns examples.
        Drill is a tool to designed to get all sorts of information out of the DNS.
        It is specificly designed to be used with DNSSEC.
        The examples are example programs of ldns usage.
builddeps  :
    - pkgconfig(libssl)
setup      : |
    %patch -p1 < $pkgfiles/security/CVE-2017-1000231.patch
    %patch -p1 < $pkgfiles/security/CVE-2017-1000232.patch
    %configure \
      --with-drill \
      --with-examples \
      --disable-dane-verify # DANE verification requires OpenSSL >= 1.1.0
build      : |
    %make
install    : |
    %make_install
    install -D -m00644 packaging/libldns.pc $installdir/usr/lib64/pkgconfig/libldns.pc
patterns   :
    - utils:
        - /usr/bin
        - /usr/share/man/man1
    - devel:
        - /usr/bin/ldns-config
        - /usr/share/man/man1/ldns-config.1
        - /usr/share/man/man3
